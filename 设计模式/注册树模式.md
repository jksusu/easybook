## 注册树模式


### 注册树类
```php
<?php
class RegisterTree
{
    protected static $objects;
    
    /**
     * 注册对象到树 
     * $params $name 树的节点名
     * $params $obj  注册的对象
     */
    public static function set($name,$obj)
    {
        self::$objects[$name] = $obj;
    }
    
    /**
     * 销毁注册数某个对象
     * $params $name 树的节点名
      */
     public static function _unset($name)
     {
         unset(self::$objects[$name]);
     }
     
     /**
      * 获取注册数对象
      * $params $name 树的节点名
      */
     public static function get($name)
     {
         return self::$objects[$name];
     }
 }
```

### 工厂模式

```php
<?php
class CreateDatabase
{
    public static function getDatabase()
    {
        //实例化一个 mysql 链接对象
        $database = new Mysql();
        //把对象注册到树
        RegisterTree::set('mysql',$database);
    }
}
```

### 获取注册树的对象
`RegisterTree::get(绑定时候的名字)`

> 有了注册树模式后，就不用去工厂模式或者单例模式中获取对象。
`RegisterTree::get('mysql')` 这样可以直接获取到 mysql 链接对象，在系统中，这个对象只会被创建一次。在创建的时候被绑定到
树上，需要的时候直接在这颗树上取。在系统初始化的时候我们可以把一些对象绑定到注册树，如果不需要了也可以销毁这个树上的节点。
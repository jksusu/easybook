## 数据对象映射模式
> 数据对象映射模式，是将对象和数据存储映射起来，对一个对象的操作会映射为对数据库的操作。

### 示例代码
```php
<?php
class User
{
    public $id;
    public $name;
    public $phone;
    public $lastTime;
    protected $db;

    function __construct()
    {
        $this->db = new mysqli();
        $this->db->connect('localhost', 'root', 'root', 'userIfo');
        $userData = $this->db->query('SELECT * FROM member limit 1');
        if (!empty($userData)) {
            $this->id = $userData['id'];
            $this->name = $userData['name'];
            $this->phone = $userData['phone'];
            $this->lastTime = $userData['lasttime'];
        }
    }

    function __destruct()
    {
        // TODO: Implement __destruct() method.
        $this->db->query("UPDATE menber SET lasttime = time()");//修改最后访问时间
    }
}
```
> 定义了一个 User 类，他的属性对应数据库中的字段。在实例化这个类会查询数据并对每个属性赋值。

### 外部调用

```php
<?php
$users = new User();
$users->id;
$users->name;
$users->phone;

```
> 这里实例化 User 类，在调用这个对象属性的时候，我们就得到了他的值，实际上是数据库中真实的值。
可以直接在此处传至过去，灵活调用，而不用在此处写 sql 语句。再调用结束的时候，析构函数也会更新最后访问时间。
数据对象映射模式简单的把 sql 语句操作转化成对对象属性的操作。

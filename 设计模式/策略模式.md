## 策略模式
将一些特定的行为或者算法封装成类，适应业务的上下文关系。通常可以代替 if else


## 简单功能测试
> 根据不用用户组给定不同的头像框和不同的名称样式

### 普通写法
```php
<?php
if (用户组 === 初级) {
    echo '初级';
    // io操作
} elseif (用户组 === 中级) {
    echo '初级';
    // io操作
}
```
> 以上编码是硬编码模式，不可取，特别是在大项目中不可取。


### 策略模式重构

```php
//定义一个接口，其中有头像框方法和名称样式方法
interface UserLevel
{
    function headFrame();//头像框
    function nameColor();//名称样式
}
```
#### 普通用户的实现
```php
<?php
class OrdinaryUsers implements UserLevel
{
    public function headFrame()
    {
        // TODO: Implement headFrame() method.
        echo '普通圆角头像框';
    }

    public function nameColor()
    {
        // TODO: Implement nameColor() method.
        echo '普通黑体';
    }
}
```

#### 中级用户的实现
```php
<?php
class SeniorUsers implements UserLevel
{
    public function headFrame()
    {
        // TODO: Implement headFrame() method.
        echo '中级玫瑰金圆角头像框';
    }

    public function nameColor()
    {
        // TODO: Implement nameColor() method.
        echo '中级鎏金高亮红色宋体';
    }
}
```

#### 设置用户等级的类
```php
<?php
class setUsers
{
    protected $strategy;
    
    public function index()
    {
        //执行用户头像设置
        $this->strategy->headFrame().PHP_EOL;
        //执行用户名样式设置
        $this->strategy->nameColor();
    }

    //这里传的参数必须是 这个类的对象
    public function setStrategy(UserLevel $strategy)
    {
        $this->strategy = $strategy;
    }
}
```

#### 外部调用
```php
<?php
$userVipNumber = isset($_POST['vip']) ? $_POST['vip'] : 2;
if ($userVipNumber === 1) {
    //普通用户实例化普通用户实现
    $strategy = new OrdinaryUsers();
} elseif ($userVipNumber === 2) {
    //中级用户实例化中级用户实现
    $strategy = new SeniorUsers();
}

$setUsers = new setUsers();
$setUsers->setStrategy($strategy);//设置用户等级
$setUsers->index();//调用根据用户等级送出礼物的方法
```

### 总结
> 以上例子就是策略模式，用了策略模式，代码结构变得非常清晰了。新增模块只用加一个具体的实现类就行。

